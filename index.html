<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover" />
    <meta name="theme-color" content="#131c2a" />
    <title>Workout Tracker — Multi‑Routine</title>
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json" />
    
    <!-- iOS Meta Tags -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="apple-mobile-web-app-title" content="Workout" />
    <link rel="apple-touch-icon" href="icon-192.png" />
    
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <header>
      <div class="header-inner">
        <h1 id="title" contenteditable="true" spellcheck="false">Workout Tracker</h1>
        <div class="ds9-bars"><span class="gold"></span><span class="blue"></span><span class="red"></span></div>

        <div class="bar">
          <button id="navToggle" class="btn btn-ghost icon-btn" title="Open Plan" aria-label="Open Plan">
            <i class="fa-solid fa-bars"></i>
          </button>

          <div id="routineSel" class="sel" aria-expanded="false"></div>
          <div id="weekSel" class="sel small" aria-expanded="false"></div>
          <div id="daySel" class="sel small" aria-expanded="false"></div>

          <button id="prevBtn" class="btn btn-ghost icon-btn hide-mobile" title="Previous Day" aria-label="Previous Day">
            <i class="fa-solid fa-chevron-left"></i>
          </button>
          <button id="nextBtn" class="btn btn-ghost icon-btn hide-mobile" title="Next Day" aria-label="Next Day">
            <i class="fa-solid fa-chevron-right"></i>
          </button>

          <div class="spacer"></div>

          <button
            id="editRoutineBtn"
            class="btn btn-ghost icon-btn"
            title="Edit Current Day"
            aria-label="Edit Current Day"
          >
            <i class="fa-solid fa-pen-to-square"></i>
          </button>

          <input id="importRoutineFile" type="file" accept=".csv,application/json" class="hidden" />
          <button
            id="importRoutineBtn"
            class="btn btn-ghost icon-btn"
            title="Import Routine (CSV/JSON)"
            aria-label="Import Routine"
          >
            <i class="fa-solid fa-file-import"></i>
          </button>

          <button id="configBtn" class="btn btn-ghost icon-btn" title="Settings" aria-label="Settings">
            <i class="fa-solid fa-gear"></i>
          </button>

          <button id="exportBtn" class="btn btn-ghost icon-btn" title="Export JSON" aria-label="Export JSON">
            <i class="fa-solid fa-download"></i>
          </button>
          <input id="importFile" type="file" accept="application/json" class="hidden" />
          <button id="importBtn" class="btn btn-ghost icon-btn" title="Import JSON" aria-label="Import JSON">
            <i class="fa-solid fa-upload"></i>
          </button>
          <button id="clearDayBtn" class="btn btn-ghost icon-btn" title="Clear Day" aria-label="Clear Day">
            <i class="fa-solid fa-trash"></i>
          </button>
          <button id="clearAllBtn" class="btn btn-danger icon-btn" title="Clear All" aria-label="Clear All">
            <i class="fa-solid fa-trash-can"></i>
          </button>
        </div>

        <section class="banner">
          <h2 id="bigFocus">Day</h2>
          <div class="sub" id="bigSub"></div>
        </section>
      </div>
      <div class="prog-rail full-bleed"><span id="progressBar"></span></div>
    </header>

    <div id="shade" class="shade"></div>
    <aside id="drawer" class="drawer" aria-label="Plan Navigation">
      <div class="dh">
        <i class="fa-solid fa-bars" style="margin-right: 6px"></i>
        Plan
        <div style="margin-left: auto">
          <button id="drawerClose" class="btn btn-ghost icon-btn" title="Close">
            <i class="fa-solid fa-xmark"></i>
          </button>
        </div>
      </div>
      <div id="dlist" class="dlist"></div>
    </aside>

    <main class="main"><div id="list" class="stack"></div></main>
    <div class="footer">
      LocalStorage persistence. Export/Import JSON to sync via OneDrive. Title and routines are included in export.
    </div>
    <div id="snack" class="snack" role="status" aria-live="polite">Saved</div>

    <!-- Module entry -->
    <script type="module" src="src/app.js"></script>
  </body>
</html>
